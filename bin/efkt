#!/usr/bin/env -S deno run -A
// Import necessary modules from the libraries
import { Args, Command } from "@effect/cli";
import { NodeContext, NodeRuntime } from "@effect/platform-node";
import { Console, Effect } from "effect";
import { argv } from "node:process";

const text = Args.text({ name: "text" }); // positional Argument

const command = Command.make("efkt", { text }, ({ text }) =>
  Console.log({ text })
);

const cli = Command.run(command, {
  name: "Hello World CLI",
  version: "v1.0.0",
});

cli(argv).pipe(Effect.provide(NodeContext.layer), NodeRuntime.runMain);
